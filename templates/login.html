{% extends 'base.html' %}

{% block body %}

<div class="ui center aligned relaxed form segment">
  <div class="ui two column centered grid">
    <div class="column">
      <h4 class="ui dividing header">Login to your account</h4>

      <form class="ui form" action="{{ url_for('login') }}" method="post">
	      <input name=_csrf_token type=hidden value="{{ csrf_token() }}">

        <div class="field {{ fieldError }}">
          <div class="ui left icon input">
            <input type="text" placeholder="Username" name="username" required autofocus>
            <i class="user icon"></i>
          </div>
        </div>

        <div class="field {{ fieldError }}">
          <div class="ui left icon input">
            <input type="password" placeholder="Password" name="password" required>
            <i class="lock icon"></i>
          </div>
        </div>
        
        <div class="field">
          <div class="ui left icon action input">
            <i class="key icon"></i>
            <input type="text" name="public-key" id="public-key">
            <div id="generate-keypair" class="ui default submit button">Generate Keypair</div>
          </div>
        </div>

        <div class="ui two column centered grid">
          <div class="column">
            <button type="submit" class="ui pink submit button">Login</button>
          </div>

          <div class="right aligned column">
            <a href="{{ url_for('registration') }}" class="ui pink basic submit button" style="box-shadow:none !important; padding-right: 0;">
              Don't have an account?
            </a>
          </div>
        </div>
      </form>

      {% if error %}
      <div class="ui small negative message">
        <i class="close icon"></i>
        <div>{{ error }}</div>
      </div>
      {% endif %}
    </div>
  </div>
</div>

{% endblock %}
